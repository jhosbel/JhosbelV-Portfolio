---
import LinkButton from "./LinkButton.astro";
import WhatsApp from "./icons/WhatsApp.astro";
import Gmail from "./icons/Gmail.astro";
import LinkedIn from "./icons/LinkedIn.astro";
import { getI18n } from "../i18n";

const { currentLocale } = Astro;
const i18n = getI18n({ currentLocale });
const whatsAppMsj = "https://wa.me/573193997183";

export let formData = {
  name: "",
  email: "",
  message: "",
};

async function handleSubmit(event: any) {
  event.preventDefault();

  const { name, email, message } = formData;

  // Aquí puedes implementar la lógica para enviar el correo electrónico
  // En este ejemplo, simplemente mostramos los datos en la consola
  console.log("Nombre:", name);
  console.log("Correo electrónico:", email);
  console.log("Mensaje:", message);

  // Puedes añadir lógica adicional aquí, como mostrar un mensaje de éxito al usuario
  // o limpiar el formulario después de enviar
}
---

<section
  class="flex flex-col justify-center items-center md:px-0 px-4 py-12 gap-y-8 rounded-lg bg-zinc-800/40"
>
  <div class="max-w-lg flex flex-col gap-y-8">
    <p>
      {i18n.contact.paragraph_contact_1}
    </p>
    <form
      action="https://formsubmit.co/jhosbel.vargas@gmail.com"
      method="post"
      class="flex flex-col gap-y-4 w-full"
    >
      <label>{i18n.contact.title_contact_label_1}</label>
      <input
        name="Titulo"
        type="text"
        id="small-input"
        placeholder={i18n.contact.placeholder_contact_label_1}
        class={`
            block 
            w-full 
            p-2 
            border
            rounded-lg 
            text-xs 
            transition
            focus-visible:border-blue-500
            bg-gray-700 
            border-gray-800 
            placeholder-gray-400
            text-white 
            `}
      />
      <label>{i18n.contact.title_contact_label_2}</label>
      <input
        name="correo"
        type="text"
        placeholder={i18n.contact.placeholder_contact_label_2}
        class={`block 
        w-full 
        p-2 
        border
        rounded-lg 
        text-xs 
        transition
        focus-visible:border-blue-500
        bg-gray-700 
        border-gray-800 
        placeholder-gray-400
        text-white`}
      />
      <label>{i18n.contact.title_contact_label_3}</label>
      <textarea
        name="mensaje"
        rows="10"
        placeholder={i18n.contact.placeholder_contact_label_3}
        class={`w-full 
        p-2 
        border
        rounded-lg 
        text-xs 
        transition
        focus-visible:border-blue-500
        bg-gray-700 
        border-gray-800 
        placeholder-gray-400
        text-white`}></textarea>
      <LinkButton type="submit">{i18n.contact.send_contact}</LinkButton>
      <input type="hidden" name="_next" value="http://localhost:4321/" />
      <input type="hidden" name="_captcha" value="false" />
    </form>
  </div>
  <div class="gap-x-4 md:gap-x-16 flex">
    <LinkButton href={whatsAppMsj} target="_blank">
      <WhatsApp class="size-6" />
      WhatsApp
    </LinkButton>
    <LinkButton href="mailto:elcorreoquequieres@correo.com" target="_blank">
      <Gmail class="size-6" />
      {i18n.contact.email_contact}
    </LinkButton>
    <LinkButton
      href="https://www.linkedin.com/in/jhosbel-vargas"
      target="_blank"
    >
      <LinkedIn class="size-6 text-[#1366B8]" />
      LinkedIn
    </LinkButton>
  </div>
</section>
